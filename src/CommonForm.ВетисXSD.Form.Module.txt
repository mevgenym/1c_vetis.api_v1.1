
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	#Если МобильноеПриложениеСервер Тогда
		//Элементы.Список.АвтоМаксимальнаяВысота = Ложь;
		//Элементы.Список.РастягиватьПоВертикали = Ложь;
		//Элементы.Список.Высота = 5;
		//Элементы.Список.МаксимальнаяВысота = 5;
		//Элементы.Список.ВысотаВСтрокахТаблицы = 5;
	#Иначе
		Элементы.ТекстМП.Видимость = Ложь;
	#КонецЕсли
	
	Заполнить();
	
КонецПроцедуры

&НаКлиенте
Процедура СписокПриАктивизацииСтроки(Элемент)
	
	#Если НЕ МобильноеПриложениеКлиент Тогда
	_ТекущиеДанные = Элементы.Список.ТекущиеДанные;
	НастроитьУФ(_ТекущиеДанные.url);
	_чт = Новый ЧтениеТекста;
	_чт.Открыть(_ТекущиеДанные.url, КодировкаТекста.UTF8);
	Текст = _чт.Прочитать();
	#КонецЕсли
	
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
	
	Если Параметр = ЭтаФорма.ИмяФормы Тогда
		//
	ИначеЕсли ИмяСобытия = "ВетисВерсия" Тогда
		Заполнить();
	ИначеЕсли ИмяСобытия = "ВетисОтладка" Тогда
		//
	ИначеЕсли ИмяСобытия = "ВетисТестовый" Тогда
		Заполнить();
	КонецЕсли;
	
КонецПроцедуры

Процедура Заполнить()
	
	Список.Очистить();
	
	Для каждого _url Из ВетисПовтИсп.XSDПолучитьURL() Цикл
		_СписокСтрока = Список.Добавить();
		_СписокСтрока.url = _url;
	КонецЦикла;
	
	Для каждого _url Из ВетисПовтИсп.WSDLПолучитьURL() Цикл
		_СписокСтрока = Список.Добавить();
		_СписокСтрока.url = _url;
	КонецЦикла;
	
КонецПроцедуры

&НаКлиенте
Процедура СписокВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	#Если МобильноеПриложениеКлиент Тогда
	_ТекущиеДанные = Элементы.Список.ТекущиеДанные;
	НастроитьУФ(_ТекущиеДанные.url);
	_чт = Новый ЧтениеТекста;
	_чт.Открыть(_ТекущиеДанные.url, КодировкаТекста.UTF8);
	Текст = _чт.Прочитать();
	#КонецЕсли
	
КонецПроцедуры

&НаСервере
Процедура НастроитьУФ(ТекЭлемент)
	
	ЭтаФорма.УсловноеОформление.Элементы[0].Отбор.Элементы[0].ПравоеЗначение = ТекЭлемент;
	
КонецПроцедуры
