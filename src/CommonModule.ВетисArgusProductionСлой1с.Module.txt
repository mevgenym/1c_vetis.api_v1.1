
Функция ProductType(value, ПоУмолчанию = Неопределено) Экспорт
	
	Если ТипЗнч(value) = Тип("СправочникСсылка.ВетисProductType") Тогда
		Если      value = ПредопределенноеЗначение("Справочник.ВетисProductType.МясоИМясопродукты") Тогда
			Возврат ВетисКонстанты.ProductType_МясоИМясопродукты();
		ИначеЕсли value = ПредопределенноеЗначение("Справочник.ВетисProductType.КормаИКормовыеДобавки") Тогда
			Возврат ВетисКонстанты.ProductType_КормаИКормовыеДобавки();
		ИначеЕсли value = ПредопределенноеЗначение("Справочник.ВетисProductType.ЖивыеЖивотные") Тогда
			Возврат ВетисКонстанты.ProductType_ЖивыеЖивотные();
		ИначеЕсли value = ПредопределенноеЗначение("Справочник.ВетисProductType.ЛекарственныеСредства") Тогда
			Возврат ВетисКонстанты.ProductType_ЛекарственныеСредства();
		ИначеЕсли value = ПредопределенноеЗначение("Справочник.ВетисProductType.ПищевыеПродукты") Тогда
			Возврат ВетисКонстанты.ProductType_ПищевыеПродукты();
		ИначеЕсли value = ПредопределенноеЗначение("Справочник.ВетисProductType.НепищевыеПродуктыИДругое") Тогда
			Возврат ВетисКонстанты.ProductType_НепищевыеПродуктыИДругое();
		ИначеЕсли value = ПредопределенноеЗначение("Справочник.ВетисProductType.РыбаИМорепродукты") Тогда
			Возврат ВетисКонстанты.ProductType_РыбаИМорепродукты();
		ИначеЕсли value = ПредопределенноеЗначение("Справочник.ВетисProductType.ПродукцияНеТребующаяРазрешения") Тогда
			Возврат ВетисКонстанты.ProductType_НепищевыеПродуктыИДругое();
		Иначе
			Возврат ПоУмолчанию;
		КонецЕсли;
	Иначе
		Если      value = ВетисКонстанты.ProductType_МясоИМясопродукты() Тогда
			Возврат ПредопределенноеЗначение("Справочник.ВетисProductType.МясоИМясопродукты");
		ИначеЕсли value = ВетисКонстанты.ProductType_КормаИКормовыеДобавки() Тогда
			Возврат ПредопределенноеЗначение("Справочник.ВетисProductType.КормаИКормовыеДобавки");
		ИначеЕсли value = ВетисКонстанты.ProductType_ЖивыеЖивотные() Тогда
			Возврат ПредопределенноеЗначение("Справочник.ВетисProductType.ЖивыеЖивотные");
		ИначеЕсли value = ВетисКонстанты.ProductType_ЛекарственныеСредства() Тогда
			Возврат ПредопределенноеЗначение("Справочник.ВетисProductType.ЛекарственныеСредства");
		ИначеЕсли value = ВетисКонстанты.ProductType_ПищевыеПродукты() Тогда
			Возврат ПредопределенноеЗначение("Справочник.ВетисProductType.ПищевыеПродукты");
		ИначеЕсли value = ВетисКонстанты.ProductType_НепищевыеПродуктыИДругое() Тогда
			Возврат ПредопределенноеЗначение("Справочник.ВетисProductType.НепищевыеПродуктыИДругое");
		ИначеЕсли value = ВетисКонстанты.ProductType_РыбаИМорепродукты() Тогда
			Возврат ПредопределенноеЗначение("Справочник.ВетисProductType.РыбаИМорепродукты");
		ИначеЕсли value = ВетисКонстанты.ProductType_ПродукцияНеТребующаяРазрешения() Тогда
			Возврат ПредопределенноеЗначение("Справочник.ВетисProductType.ПродукцияНеТребующаяРазрешения");
		Иначе
			Возврат ПоУмолчанию;
		КонецЕсли;
	КонецЕсли;
	
КонецФункции

Функция Product(value, ПоУмолчанию = Неопределено) Экспорт
	
	Если ТипЗнч(value) = Тип("СправочникСсылка.ВетисProduct") Тогда
		Возврат Ветис.Соответствие_ПолучитьGuid(value, ПоУмолчанию);
	ИначеЕсли ТипЗнч(value) = Тип("ОбъектXDTO") Тогда
		Возврат Ветис.Соответствие_ПолучитьСсылку(value.guid, "Справочник.ВетисProduct", ПоУмолчанию);
	Иначе
		Возврат Ветис.Соответствие_ПолучитьСсылку(value, "Справочник.ВетисProduct", ПоУмолчанию);
	КонецЕсли;
	
КонецФункции

Функция SubProduct(value, ПоУмолчанию = Неопределено) Экспорт
	
	Если ТипЗнч(value) = Тип("СправочникСсылка.ВетисSubProduct") Тогда
		Возврат Ветис.Соответствие_ПолучитьGuid(value, ПоУмолчанию);
	ИначеЕсли ТипЗнч(value) = Тип("ОбъектXDTO") Тогда
		Возврат Ветис.Соответствие_ПолучитьСсылку(value.guid, "Справочник.ВетисSubProduct", ПоУмолчанию);
	Иначе
		Возврат Ветис.Соответствие_ПолучитьСсылку(value, "Справочник.ВетисSubProduct", ПоУмолчанию);
	КонецЕсли;
	
КонецФункции

Функция ProductItem(value, ПоУмолчанию = Неопределено) Экспорт
	
	Если ТипЗнч(value) = Тип("СправочникСсылка.ВетисProductItem") Тогда
		Возврат Ветис.Соответствие_ПолучитьGuid(value, ПоУмолчанию);
	ИначеЕсли ТипЗнч(value) = Тип("ОбъектXDTO") Тогда
		Если ЗначениеЗаполнено(value.guid) Тогда
			Возврат Ветис.Соответствие_ПолучитьСсылку(value.guid, "Справочник.ВетисProductItem", ПоУмолчанию);
		Иначе
			//Возврат Ветис.Соответствие_ПолучитьСсылку(value.name, "Справочник.ВетисProductItem", ПоУмолчанию);
		КонецЕсли;
	Иначе
		Возврат Ветис.Соответствие_ПолучитьСсылку(value, "Справочник.ВетисProductItem", ПоУмолчанию);
	КонецЕсли;
	
КонецФункции

