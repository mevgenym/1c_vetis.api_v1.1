
Процедура ПередЗаписью(Отказ, РежимЗаписи, РежимПроведения)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	_Статус = Неопределено;
	Для каждого _СтрокаТовары Из Товары Цикл
		_СтрокаТовары.Статус = _СтрокаТовары.ВСД.Статус;
		Если НЕ ЗначениеЗаполнено(_СтрокаТовары.Статус) Тогда
			//пропуск
		ИначеЕсли _Статус = Неопределено Тогда
			_Статус = _СтрокаТовары.Статус;
		ИначеЕсли НЕ _Статус = _СтрокаТовары.Статус Тогда
			//разный статус всд, в шапке ставим пустой статус
			_Статус = Неопределено;
			Прервать;
		КонецЕсли;
	КонецЦикла;
	
	Статус = _Статус;
	
КонецПроцедуры

Процедура ПриКопировании(ОбъектКопирования)
	
	Товары.Очистить();
	
	Упаковка.Очистить();
	
	Маркировка.Очистить();
	
	_ттн = ?(ТТН.Количество() = 0, ТТН.Добавить(), ТТН[0]);
	
	_ттн.Серия = "";
	_ттн.Номер = "";
	_ттн.Дата  = ТекущаяДата();
	
КонецПроцедуры

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, ТекстЗаполнения, СтандартнаяОбработка)
	
	Получатель = Ветис.ТекущийХС();
	
	ПолучательПредприятие = Ветис.ТекущееПредприятие();
	
КонецПроцедуры

Процедура ОбработкаПроведения(Отказ, РежимПроведения)
	
КонецПроцедуры
