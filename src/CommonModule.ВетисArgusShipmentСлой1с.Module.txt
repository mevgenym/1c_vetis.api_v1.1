
Функция TransportType(value) Экспорт
	
	Если ТипЗнч(value) = Тип("ПеречислениеСсылка.ВетисTransportType") Тогда
		Если      value = ПредопределенноеЗначение("Перечисление.ВетисTransportType.Автомобильный") Тогда
			Возврат ВетисКонстанты.TransportType_Автомобильный();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисTransportType.Железнодорожный") Тогда
			Возврат ВетисКонстанты.TransportType_Железнодорожный();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисTransportType.Авиатранспорт") Тогда
			Возврат ВетисКонстанты.TransportType_Авиатранспортный();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисTransportType.МорскойКонтейнер") Тогда
			Возврат ВетисКонстанты.TransportType_МорскойКонтейнер();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисTransportType.МорскойТрюм") Тогда
			Возврат ВетисКонстанты.TransportType_МорскойТрюм();
		Иначе
			Возврат ВетисКонстанты.TransportType_Автомобильный();
		КонецЕсли;
	Иначе
		Если      value = ВетисКонстанты.TransportType_Автомобильный() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportType.Автомобильный");
		ИначеЕсли value = ВетисКонстанты.TransportType_Железнодорожный() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportType.Железнодорожный");
		ИначеЕсли value = ВетисКонстанты.TransportType_Авиатранспортный() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportType.Авиатранспорт");
		ИначеЕсли value = ВетисКонстанты.TransportType_МорскойКонтейнер() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportType.МорскойКонтейнер");
		ИначеЕсли value = ВетисКонстанты.TransportType_МорскойТрюм() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportType.МорскойТрюм");
		Иначе
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportType.Автомобильный");
		КонецЕсли;
	КонецЕсли;
	
КонецФункции

Функция TransportationStorageType(value) Экспорт
	
	Если ТипЗнч(value) = Тип("ПеречислениеСсылка.ВетисTransportStorageType") Тогда
		Если      value = ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Замороженные") Тогда
			Возврат ВетисКонстанты.TransportationStorageType_FROZEN();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Охлажденные") Тогда
			Возврат ВетисКонстанты.TransportationStorageType_CHILLED();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Охлаждаемые") Тогда
			Возврат ВетисКонстанты.TransportationStorageType_COOLED();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Вентилируемые") Тогда
			Возврат ВетисКонстанты.TransportationStorageType_VENTILATED();
		Иначе
			Возврат ВетисКонстанты.TransportationStorageType_FROZEN();
		КонецЕсли;
	Иначе
		Если      value = ВетисКонстанты.TransportationStorageType_FROZEN() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Замороженные");
		ИначеЕсли value = ВетисКонстанты.TransportationStorageType_CHILLED() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Охлажденные");
		ИначеЕсли value = ВетисКонстанты.TransportationStorageType_COOLED() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Охлаждаемые");
		ИначеЕсли value = ВетисКонстанты.TransportationStorageType_VENTILATED() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Вентилируемые");
		Иначе
			Возврат ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Замороженные");
		КонецЕсли;
	КонецЕсли;
	
КонецФункции

Функция WaybillType(value) Экспорт
	
	Если ТипЗнч(value) = Тип("ПеречислениеСсылка.ВетисDocumentType") Тогда
		Если      value = ПредопределенноеЗначение("Перечисление.ВетисDocumentType.ТовароТранспортнаяНакладная") Тогда
			Возврат ВетисКонстанты.WaybillType_ТоварноТранспортнаяНакладная();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисDocumentType.Коносамент") Тогда
			Возврат ВетисКонстанты.WaybillType_Коносамент();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисDocumentType.CMR") Тогда
			Возврат ВетисКонстанты.WaybillType_CMR();
		ИначеЕсли value = ПредопределенноеЗначение("Перечисление.ВетисDocumentType.Авианакладная") Тогда
			Возврат ВетисКонстанты.WaybillType_Авианакладная();
		Иначе
			Возврат ВетисКонстанты.WaybillType_ТоварноТранспортнаяНакладная();
		КонецЕсли;
	Иначе
		Если      value = ВетисКонстанты.WaybillType_ТоварноТранспортнаяНакладная() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисDocumentType.ТовароТранспортнаяНакладная");
		ИначеЕсли value = ВетисКонстанты.WaybillType_Коносамент() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисDocumentType.Коносамент");
		ИначеЕсли value = ВетисКонстанты.WaybillType_CMR() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисDocumentType.CMR");
		ИначеЕсли value = ВетисКонстанты.WaybillType_Авианакладная() Тогда
			Возврат ПредопределенноеЗначение("Перечисление.ВетисDocumentType.Авианакладная");
		Иначе
			Возврат ПредопределенноеЗначение("Перечисление.ВетисDocumentType.ТовароТранспортнаяНакладная");
		КонецЕсли;
	КонецЕсли;
	
КонецФункции

Функция TransportInfo(пТипТранспорта, пНомер = Неопределено, пНомерПрицепа = Неопределено, пНомерКонтейнера = Неопределено) Экспорт
	
	Возврат ВетисArgusShipment_1_4.TransportInfo(
				TransportType(пТипТранспорта),
				TransportNumber(пТипТранспорта, пНомер, пНомерПрицепа, пНомерКонтейнера)
				);
	
КонецФункции

Функция TransportNumber(value, пНомер = Неопределено, пНомерПрицепа = Неопределено, пНомерКонтейнера = Неопределено, пТипТранспорта = Неопределено) Экспорт
	
	Если ТипЗнч(value) = Тип("ОбъектXDTO") Тогда
		
		_ТипТранспорта = TransportType(value.transportType);
		
		Если НЕ value.transportNumber = Неопределено Тогда
			Если _ТипТранспорта = Перечисления.ВетисTransportType.Автомобильный Тогда
				пНомер = value.transportNumber.vehicleNumber;
				пНомерПрицепа = value.transportNumber.trailerNumber;
				пНомерКонтейнера = value.transportNumber.containerNumber;
			ИначеЕсли _ТипТранспорта = Перечисления.ВетисTransportType.Железнодорожный Тогда
				пНомер = value.transportNumber.wagonNumber;
			ИначеЕсли _ТипТранспорта = Перечисления.ВетисTransportType.Авиатранспорт Тогда
				пНомер = value.transportNumber.flightNumber;
			ИначеЕсли _ТипТранспорта = Перечисления.ВетисTransportType.МорскойКонтейнер Тогда
				пНомер = value.transportNumber.shipName;
			ИначеЕсли _ТипТранспорта = Перечисления.ВетисTransportType.МорскойТрюм Тогда
				пНомер = value.transportNumber.shipName;
			КонецЕсли;
		КонецЕсли;
		
		пТипТранспорта = _ТипТранспорта;
		
		Возврат пНомер;//возвращаем и в параметрах и в значении
		
	ИначеЕсли ТипЗнч(value) = Тип("ПеречислениеСсылка.ВетисTransportType") Тогда
		
		_Объект = ВетисArgusShipment_1_4.TransportNumber();
		
		Если value = Перечисления.ВетисTransportType.Автомобильный Тогда
			ВетисОбщегоНазначения.УстановитьЗначение(_Объект, пНомер, "vehicleNumber");
			ВетисОбщегоНазначения.УстановитьЗначение(_Объект, пНомерПрицепа, "trailerNumber");
			ВетисОбщегоНазначения.УстановитьЗначение(_Объект, пНомерКонтейнера, "containerNumber");
		ИначеЕсли value = Перечисления.ВетисTransportType.Железнодорожный Тогда
			ВетисОбщегоНазначения.УстановитьЗначение(_Объект, пНомер, "wagonNumber");
		ИначеЕсли value = Перечисления.ВетисTransportType.Авиатранспорт Тогда
			ВетисОбщегоНазначения.УстановитьЗначение(_Объект, пНомер, "flightNumber");
		ИначеЕсли value = Перечисления.ВетисTransportType.МорскойКонтейнер Тогда
			ВетисОбщегоНазначения.УстановитьЗначение(_Объект, пНомер, "shipName");
		ИначеЕсли value = Перечисления.ВетисTransportType.МорскойТрюм Тогда
			ВетисОбщегоНазначения.УстановитьЗначение(_Объект, пНомер, "shipName");
		КонецЕсли;
		
	КонецЕсли;
	
	Возврат _Объект;
	
КонецФункции
