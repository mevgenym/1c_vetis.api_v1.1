
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	уид = Объект.Ссылка.УникальныйИдентификатор();
	
КонецПроцедуры


&НаКлиенте
Процедура КомандаПроверитьВСервисе(Команда)
	КомандаПроверитьВСервисеНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура КомандаСледующая(Команда)
	
	Если ЗначениеЗаполнено(next) Тогда
		КомандаСледующаяНаСервере(next);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаПредыдущая(Команда)
	
	Если ЗначениеЗаполнено(previous) Тогда
		КомандаСледующаяНаСервере(previous);
	КонецЕсли;
	
КонецПроцедуры


&НаСервере
Процедура КомандаПроверитьВСервисеНаСервере()
	
	_guid = Строка(Объект.Ссылка.УникальныйИдентификатор());
	
	_se = ВетисMercuryApplications_2_0.GetStockEntryByGuid(_guid, ВетисDictionaryСлой1с.Enterprise(Объект.Enterprise));
	
	_Объект = РеквизитФормыВЗначение("Объект");
	
	_Объект.Заполнить(_se);
	
	ЗначениеВРеквизитФормы(_Объект, "Объект");
	
	//last   = _se.last;
	//active = _se.active;
	//status = _se.status;
	//Статус = ВетисBaseСлой1с.VersionStatus(_se.status);
	
	//createDate = _se.createDate;
	//updateDate = _se.updateDate;
	
	seuuid     = _se.uuid;
	next     = _se.next;
	previous = _se.previous;
	
	Модифицированность = Истина;
	
КонецПроцедуры

&НаСервере
Процедура КомандаСледующаяНаСервере(Знач пUuid)
	
	_se = ВетисMercuryApplications_2_0.GetStockEntryByUuid(пUuid, ВетисDictionaryСлой1с.Enterprise(Объект.Enterprise));
	
	_Объект = РеквизитФормыВЗначение("Объект");
	
	_Объект.Заполнить(_se);
	
	ЗначениеВРеквизитФормы(_Объект, "Объект");
	
	//last   = _se.last;
	//active = _se.active;
	//status = _se.status;
	//Статус = ВетисBaseСлой1с.VersionStatus(_se.status);
	
	//createDate = _se.createDate;
	//updateDate = _se.updateDate;
	
	seuuid     = _se.uuid;
	next     = _se.next;
	previous = _se.previous;
	
	Модифицированность = Истина;
	
КонецПроцедуры

&НаКлиенте
Процедура PackageListПриАктивизацииСтроки(Элемент)
	
	_ТекущиеДанные = Элементы.Упаковка.ТекущиеДанные;
	
	Если _ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	Элементы.Маркировка.ОтборСтрок = Новый ФиксированнаяСтруктура("КлючСвязи", _ТекущиеДанные.КлючСтроки);
	
КонецПроцедуры
