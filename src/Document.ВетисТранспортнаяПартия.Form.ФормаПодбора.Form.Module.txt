
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("Enterprise") Тогда
		
		ВетисОбщегоНазначения.ДобавитьОтбор(СписокПартии.Отбор, "Enterprise", Параметры.Enterprise);
		
	КонецЕсли;
	
	ЗакрыватьПриВыборе = Ложь;
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаВыбрать(Команда)
	
	Если Элементы.СписокПартии.ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	_ТекущиеДанные = Элементы.СписокПартии.ТекущиеДанные;
	
	ЗначениеВыбора = Новый Структура;
	ЗначениеВыбора.Вставить("Guid",            _ТекущиеДанные.Guid);
	ЗначениеВыбора.Вставить("ProductType",     _ТекущиеДанные.ProductType);
	ЗначениеВыбора.Вставить("Product",         _ТекущиеДанные.Product);
	ЗначениеВыбора.Вставить("SubProduct",      _ТекущиеДанные.SubProduct);
	ЗначениеВыбора.Вставить("ProductItem",     _ТекущиеДанные.ProductItem);
	ЗначениеВыбора.Вставить("ProductItemName", _ТекущиеДанные.ProductItemName);
	ЗначениеВыбора.Вставить("Количество",      _ТекущиеДанные.Volume);
	//ЗначениеВыбора.Вставить("КоличествоМест",  _ТекущиеДанные.КоличествоМест);
	
	ОповеститьОВыборе(ЗначениеВыбора);
	
КонецПроцедуры

&НаКлиенте
Процедура СписокПартииВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	КомандаВыбрать(Неопределено);
	
КонецПроцедуры
