
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Элементы.guid.Видимость = Ветис.Настройки_ПоказыватьGuid();
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	ОбновитьОтборы();
	
КонецПроцедуры


&НаКлиенте
Процедура КомандаЗаполнить(Команда)
	
	Если ОтборРайонИспользование Тогда
		ВетисСинхронизацияВызовСервера.Locality(ОтборСтрана, ОтборРегион, ОтборРайон);
	ИначеЕсли ОтборРегионИспользование Тогда
		ВетисСинхронизацияВызовСервера.Locality(ОтборСтрана, ОтборРегион);
	Иначе
		ВетисСинхронизацияВызовСервера.Locality(ОтборСтрана);
	КонецЕсли;
	
	Элементы.Список.Обновить();
	
КонецПроцедуры


&НаКлиенте
Процедура ОтборСтранаПриИзменении(Элемент)
	
	ОбновитьОтборы();
	
КонецПроцедуры

&НаКлиенте
Процедура ОтборРегионПриИзменении(Элемент)
	
	ОтборРегионИспользование = ЗначениеЗаполнено(ОтборРегион);
	
	ОбновитьОтборы();
	
КонецПроцедуры

&НаКлиенте
Процедура ОтборРайонПриИзменении(Элемент)
	
	ОтборРайонИспользование = ЗначениеЗаполнено(ОтборРайон);
	
	ОбновитьОтборы();
	
КонецПроцедуры

&НаКлиенте
Процедура ОтборРегионИспользованиеПриИзменении(Элемент)
	
	ОтборРайонИспользование = ОтборРайонИспользование И ОтборРегионИспользование;
	
	ОбновитьОтборы();
	
КонецПроцедуры

&НаКлиенте
Процедура ОтборРайонИспользованиеПриИзменении(Элемент)
	
	ОбновитьОтборы();
	
КонецПроцедуры

&НаКлиенте
Процедура ОбновитьОтборы(пИмяСобытия = Неопределено)
	
	ВетисОбщегоНазначенияКлиентСервер.ДобавитьОтбор(Список.Отбор, "Country", ОтборСтрана);
	
	ВетисОбщегоНазначенияКлиентСервер.ДобавитьОтбор(Список.Отбор, "Region", ОтборРегион, , ОтборРегионИспользование);
	
	ВетисОбщегоНазначенияКлиентСервер.ДобавитьОтбор(Список.Отбор, "District", ОтборРайон, , ОтборРайонИспользование);
	
КонецПроцедуры
